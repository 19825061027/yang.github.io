#+INCLUDE: "../../prefix.org"

#+TITLE: IOMMU.txt翻译学习，设备树属性层面

IOMMU device node:
===
IOMMU功能：
1. 将物理内存映射到设备可访问地址空间；
   如，映射64-bit物理地址到32-bit DMA地址空间
2. 实现页级粒度的聚散(scatter-gather)，应该是不连续物理地址空间映射到设备连续地址空间；
3. 提供多个上下文之间的地址空间孤立；
   如，虚拟化

IOMMUs可以是single-master或multiple-master. Single-master IOMMU devices有一个固定关联的master device，而multiple-master IOMMU devices可以处理(翻译)读个master的访问；

IOMMU所在总线的设备树节点必须要包含一个有效的dma-ranges属性，用来描述如何将IOMMU的物理地址空间映射到内存。dma-ranges为空意味着IOMMU到内存是1:1映射；

属性
===
#iommu-cells: The number of cells in an IOMMU specifier needed to encode an address.

The meaning of the IOMMU specifier is defined by the device tree binding of the specific IOMMU.
Below are a few examples of typical user-cases:
- #iommu-cells = <0>: Single master IOMMU device。IOMMU不可配置

IOMMU master node:
===
通过IOMMU访问内存的设备称为master。一个设备可以有多个master接口(to one or more IOMMU devices)。

翻译看不太懂
