#+INCLUDE: "../../prefix.org"

#+TITLE: 跑通fpga                                      

** 生成zImage.epapr
1. linux code, 需要最新的c2000-dev分支；
2. 需要修改设备树文件生成依赖方法，dtc环境中没有，使用./scripts/dtc/dtc
3. 使用本地config: cp ./c2000-dev-config .config
4. 进行部分修正 make ARCH=powerpc CROSS_COMPILE=/opt/at12.0/bin/powerpc64le-linux-gnu- menuconfig
5. 编译：make ARCH=powerpc CROSS_COMPILE=/opt/at12.0/bin/powerpc64le-linux-gnu- -j16
6. 将zImage放到fpga/skiboot下
7. 运行make_image.sh命令生成mif文件
** 跑起来fpga db2
看jingling提供的readme
** 修改单线程
http://inconfluence.powercore.com.cn/x/zaHzAQ
1. 修改skiboot/c1000_dt.dts 中的ibm,ppc-interrupt-server#s = <0x0 0x1>
2. 修改skiboot/core/init.c
