#+INCLUDE: "../../prefix.org"

#+TITLE: 位域操作

fls: find last (most-significant) bit set.
fls(0) = 0; fls(1) = 1; fls(0x80000000) = 32;
static inline int fls(unsigned int x);

ffs: find first bit set
static inline int ffs(int x);
#+begin_src c
  while (irq_stat != 0) {
	  int irqoffset = fls(irq_stat) - 1;
	  ...;
	  irq_stat &= ~(1 << irqoffset);	  
   }
#+end_src
